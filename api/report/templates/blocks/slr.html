<div class="no-break">
    <h3 id="SLR">Sea-level rise</h3>

    <p>
        NOAA's sea-level rise (SLR) inundation models represent areas likely to
        experience flooding at high tide based on each foot of inundation depth
        above current levels. These inundation depth models are not linked to a
        future timeframe; see the projections below. NOAA calculates the
        inundation depth at "mean higher high water", or the average highest
        daily tide. The area covered by each inundation depth level includes
        areas predicted to be inundated at lower levels. For example, areas
        inundated by 4 ft of SLR also includes areas inundated by 3 ft, 2 ft, 1
        ft, and current inundation levels.
    </p>

    {% if maps.slr %}
        <div class="map-container">
            <img src="data:image/png;base64,{{maps.slr}}" alt="Map for projected sea-level rise" class="map">

            {% include "elements/north_arrow.html" %}
        </div>

        {% include "elements/map_footer.html" %}

        <div class="flex map-footer">
            <div class="map-locator-container">
                {% if maps.locator %}
                    <img src="data:image/png;base64,{{maps.locator}}" alt="Locator map" class="map-locator">
                {% endif %}
            </div>

            <div class="legend flex-grow">
                <h4>Flooding extent by projected sea-level rise (ft)</h4>
                <div class="flex">
                    {% for item in legends.slr %}
                        <div class="flex-grow" style="width: 100%;">
                            <div style="background: {{item.color}}; opacity: 0.7; height: 14pt; border: 1px solid #aaa; border-bottom: 1px solid #aaa; border-right: 1px solid #aaa;{% if loop.index == 0 %}border-left; 1px solid #aaa;{% endif %}"></div>
                            <div class="legend-label text-center">{{item.label}}</div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>

    {% else %}
        <div class="map-placeholder text-center">
            map could not be created
        </div>
    {% endif %}
</div>


<!-- Inundation depth table: -->

<div class="no-break">
    <div class="caption">
        Table {{table.counter}}: Extent of flooding by projected average highest daily tide due to sea level rise{% if results.name %} within {{results.name}}{% if results.type %} {{results.type}}{% endif %}{% else %} in this area{% endif %}.
        Values from the <a href="https://coast.noaa.gov/slrdata/">NOAA sea-level rise inundation data</a>.  Note: areas
        are based on 15 meter pixels, unlike the 30 meter pixels used for the Blueprint and its inputs; this will cause
        the total acreage to be different.
    </div>
    {% set table.counter=table.counter+1 %}

    <table class="centered">
        <thead>
            <tr>
                <th class="label">Feet of sea-level rise</th>
                <th class="acres">Acres</th>
                <th class="percent">Percent of Area</th>
            </tr>
        </thead>
        <tbody>
            {% for acres in results['slr'] %}
            <tr>
                <td class="label">
                    {% if loop.index == 2 %}
                        {{loop.index - 1}} foot
                    {% else %}
                        {{loop.index - 1}} feet
                    {% endif %}
                </td>
                <td class="acres">{{acres|format_number}}</td>
                <td class="percent">{{(100 * acres / results.slr_acres)|format_percent}}%</td>
            </tr>
        {% endfor %}


        {% with remainder=results.slr_acres - results['slr'][-1] %}
        {% if remainder > 0 %}
            <tr class="remainder-row">
                <td class="label">Not projected to be inundated by up to 10 feet</td>
                <td class="acres">{{remainder|format_number}}</td>
                <td class="percent">{{(100 * remainder / results.slr_acres)|format_percent}}%</td>
            </tr>
        {% endif %}
        {% endwith %}

        <tr class="total-row">
            <td class="align-right">Total area</td>
            <td class="acres">{{results.slr_acres|format_number}}</td>
            <td class="percent">100%</td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Projection table: -->
<div class="no-break">
    <div class="caption">
        Table {{table.counter}}: Projected sea level rise by decade{% if results.name %} within {{results.name}}{% if results.type %} {{results.type}}{% endif %}{% else %} in this area{% endif %}.
        Values are based on area-weighted averages of decadal projections for
        1-degree grid cells that overlap this area
        based on <a href="https://oceanservice.noaa.gov/hazards/sealevelrise/sealevelrise-tech-report.html">NOAA's 2022 Sea Level Rise Report</a>.
        The <a href="https://secassoutheast.org/our-goal">SECAS goal</a> is a 10% or greater improvement in the health, function, and connectivity of Southeastern ecosystems by 2060.
    </div>
    {% set table.counter=table.counter+1 %}

    <table class="centered">
        <thead>
            <tr>
                <th>SLR Scenario</th>
                {% for year in range(2020, 2105, 10) %}
                    <th {% if year == 2060 %}class="highlight-col"{% endif %}>{{year}} (ft)</th>
                {% endfor %}

            </tr>
        </thead>
        <tbody>

        {% for scenario in results['slr_proj'] %}
            <tr>
                <td>{{scenario}}</td>
                {% for value in  results['slr_proj'][scenario] %}
                    <td {% if loop.index == 5 %}class="highlight-col"{% endif %}>
                        {% if value == 0 %}
                            0
                        {% else %}
                            {{value}}
                        {% endif %}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
